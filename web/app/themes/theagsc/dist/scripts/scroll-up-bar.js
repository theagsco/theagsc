!function(o){"use strict";var t;o.scrollupbar=function(r,i){function l(){return s.scrollTop()<=r.offset().top}function p(){return s.scrollTop()<r.offset().top+r.outerHeight()}i=o.extend({enterViewport:o.noop,fullyEnterViewport:o.noop,exitViewport:o.noop,partiallyExitViewport:o.noop},i);var e,s=o(window),n=o(document),u="fixed"==r.css("position")?0:r.offset().top,c=s.scrollTop(),a=r.position().top,w=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);return o.scrollupbar.isInViewport=p(),o.scrollupbar.isFullyInViewport=l(),w?(s.on("touchstart.scrollupbar",function(){c=s.scrollTop()}),s.on("touchend.scrollupbar",function(){var t=s.scrollTop();c>t||t-r.outerHeight()<u?u>=t?(r.css({position:"absolute",top:a}),r.show(function(){o.scrollupbar.isInViewport=!0,o.scrollupbar.isFullyInViewport=!0,i.enterViewport(),i.fullyEnterViewport()})):(r.css({position:"fixed",top:0}),o.scrollupbar.isInViewport=!0,i.enterViewport(),r.slideDown(function(){o.scrollupbar.isFullyInViewport=!0,i.fullyEnterViewport()})):t>c&&(o.scrollupbar.isFullyInViewport=!1,i.partiallyExitViewport(),r.slideUp(function(){o.scrollupbar.isInViewport=!1,i.exitViewport()})),c=t})):s.on("scroll.scrollupbar",function(){var t=s.scrollTop(),w=r.outerHeight();0>t||t>n.height()-s.height()||(e&&clearTimeout(e),c>t?(!o.scrollupbar.isInViewport&&c-w>=u&&(r.css("top",c-w),o.scrollupbar.isInViewport=!0,i.enterViewport()),l()&&(r.css(t>=u?{position:"fixed",top:0}:{position:"absolute",top:a}),o.scrollupbar.isFullyInViewport||(o.scrollupbar.isFullyInViewport=!0,i.fullyEnterViewport())),e=setTimeout(function(){l()||(r.css({position:"fixed",top:r.offset().top-t}),r.animate({top:0},100,function(){o.scrollupbar.isFullyInViewport=!0,i.fullyEnterViewport()}))},400)):t>c&&(o.scrollupbar.isFullyInViewport&&(r.css({position:"absolute",top:c>u?c:a}),l()||(o.scrollupbar.isFullyInViewport=!1,i.partiallyExitViewport())),o.scrollupbar.isInViewport&&!p()&&(o.scrollupbar.isInViewport=!1,i.exitViewport()),e=setTimeout(function(){p()&&t-w>=u&&r.animate({top:t-w},100,function(){o.scrollupbar.isInViewport=!1,i.exitViewport()})},400)),c=t)}),t=function(){s.off(".scrollupbar"),r.css({position:"absolute",top:a})},r},o.scrollupbar.destroy=function(){return t?t():void 0},o.fn.scrollupbar=function(t){return o.scrollupbar(this,t)}}(jQuery);
//# sourceMappingURL=scroll-up-bar.js.map